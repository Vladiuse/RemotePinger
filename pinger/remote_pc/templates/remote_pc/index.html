<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>DS - {{active_count}}/{{dss|length}}</title>
  <meta http-equiv="refresh" content="{{main_page_reload_time.value}}" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

<!--ICONS-->
<script src="https://kit.fontawesome.com/da43c2ea11.js" crossorigin="anonymous"></script>
  </head>
<style>
  #timeout{
    position: fixed;
    top: 20px;
    left: 20px;
    color: red;
    background-color: white;
    outline: 10px solid red;
    border-radius: 20px;
  }
  i{
    width: 20%;
    font-size: 15em;
  }
  .status{
  width: 100%;
  }
</style>
<body>
  <div class="" id="timeout" style="display: none;">
    <i class="fa-solid fa-rotate-right"></i>
  </div>
  <div class="container">
    <table class="table">
      <thead>
        <tr>
          <th scope="col">ID</th>

          <th scope="col">IP</th>
          <th scope="col">OS</th>
          <th scope="col">Param</th>
                    <th scope="col">Name</th>
          <th scope="col">Status</th>
          <th scope="col">Last ping</th>
          <th scope="col">Past</th>
        </tr>
      </thead>
      <tbody>
        {%for ds in dss%}
        <tr>
          <td>{{ds.pk}}</td>

          <td>{{ds.ip}}</td>
          <td>{{ds.os}}</td>
          <td>{{ds.code}} {{ds.ram}}GB</td>
          <td>
            <h4>{{ds.name}}</h4>
          </td>
          <td>
            <button type="button" class="status btn btn-{{ds.status.color}}">{{ds.status.text}}</button>
          </td>
          <td>
            {{ds.last_activity|date:"m-d H:i:s"}}
          </td>
          <td>
            {{ds.past}}
          </td>
        </tr>
        {%endfor%}
      </tbody>
    </table>
  </div>
  <script>
    var timeOut = {{show_site_not_load_block_time.value}} * 1000
    setTimeout(function () {
      var elem = document.getElementById('timeout')
      elem.style.display = 'flex'
    }, timeOut);
  </script>
</body>

</html>